"use strict";(self.webpackChunkeservices=self.webpackChunkeservices||[]).push([[961],{7961:(O,p,a)=>{a.r(p),a.d(p,{MainpageModule:()=>y});var d=a(6895),s=a(4629),n=a(4650),f=a(231),m=a(4283),x=a(3388),g=a(8423),l=a(433);function b(t,i){1&t&&n._UZ(0,"div",20)}function _(t,i){1&t&&(n.TgZ(0,"p",21),n._uU(1,"Logging in..."),n.qZA())}function M(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",22)(1,"div",23),n._UZ(2,"img",24),n.TgZ(3,"p"),n._uU(4),n.qZA(),n.TgZ(5,"button",25),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.hideSpinnerIfError())}),n._uU(6,"That's fine!"),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(2),n.s9C("src",e.imageError,n.LSH),n.xp6(2),n.Oqu(e.errMsg)}}const u=function(){return{standalone:!0}};function v(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",26)(1,"div")(2,"h3",27),n._uU(3,"E-mail"),n.qZA(),n.TgZ(4,"input",28),n.NdJ("ngModelChange",function(r){n.CHM(e);const c=n.oxw();return n.KtG(c.email=r)}),n.qZA(),n.TgZ(5,"h3",27),n._uU(6,"Password"),n.qZA(),n.TgZ(7,"input",29),n.NdJ("ngModelChange",function(r){n.CHM(e);const c=n.oxw();return n.KtG(c.password=r)}),n.qZA(),n._UZ(8,"br"),n.TgZ(9,"button",30),n.NdJ("click",function(){n.CHM(e);const r=n.oxw();return n.KtG(r.login())}),n._uU(10,"SIGN IN"),n.qZA(),n._UZ(11,"br")(12,"br"),n.TgZ(13,"button",31),n._uU(14,"SIGN UP"),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(4),n.Q6J("ngModel",e.email)("ngModelOptions",n.DdM(4,u)),n.xp6(3),n.Q6J("ngModel",e.password)("ngModelOptions",n.DdM(5,u))}}function C(t,i){if(1&t&&(n.TgZ(0,"div",26)(1,"div")(2,"h3",27),n._uU(3,"E-mail"),n.qZA(),n._UZ(4,"input",32),n.TgZ(5,"h3",27),n._uU(6,"Password"),n.qZA(),n._UZ(7,"input",33)(8,"br"),n.TgZ(9,"button",34),n._uU(10),n.qZA()()()),2&t){const e=n.oxw();n.xp6(9),n.s9C("routerLink",e.link),n.xp6(1),n.Oqu(e.continueas)}}const Z=[{path:"",component:(()=>{class t{constructor(e,o,r,c,A,T,k){this.router=e,this.afstore=o,this.afauth=r,this.applicationRef=c,this.zone=A,this.authService=T,this.spinner=k,this.continueas="",this.link="",this.isnull=!1,this.email="",this.password="",this.hideLoginAndSignupButton=!1,this.showErrorAlert=!1,this.imageError="",this.errMsg="",this.router.events.subscribe(()=>{this.zone.run(()=>{setTimeout(()=>{this.applicationRef.tick();var h=JSON.parse(localStorage.getItem("user"));null!=h?("admin"==h.displayName?(this.continueas="Continue As Admin!",this.link="/adminhome"):(this.continueas="Continue As Citizen!",this.link="/home"),this.isnull=!1):this.isnull=!0},0)})})}ngOnInit(){}hideSpinnerIfError(){this.spinner.hide()}login(){this.authService.login({email:this.email,password:this.password}).subscribe(o=>{if(this.spinner.show().then(()=>{}),1==o.success){var r={id:o.data.id,displayName:o.data.role};this.showErrorAlert=!0,setTimeout(()=>{this.router.navigateByUrl("citizen"==o.data.role?"/home":"/adminhome"),this.spinner.hide(),localStorage.setItem("user",JSON.stringify(r))},3500)}else this.showErrorAlert=!1,this.imageError="https://cdn-icons-png.flaticon.com/512/2976/2976592.png",this.errMsg=o.message})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.F0),n.Y36(f.ST),n.Y36(m.zQ),n.Y36(n.z2F),n.Y36(n.R0b),n.Y36(x.u),n.Y36(g.t2))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-mainpage"]],decls:35,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],["src","assets/alcalalogo.png","data-target","#navbarSupportedContent",1,"navbar-toggler","d-lg-none",2,"width","70px","height","70px"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["src","assets/alcalalogo.png",2,"width","70px","height","70px"],["type","pacman"],["class","lds-hourglass",4,"ngIf"],["class","loading",4,"ngIf"],["class","container",4,"ngIf"],["class","data text-white text-center d-flex justify-content-center align-items-center h-75",4,"ngIf"],[1,"container-fluid","bg-tertiary"],["id","login_footer",1,"row","p-5"],[1,"col-md-3"],[2,"color","whitesmoke","font-size","20px"],[2,"color","whitesmoke"],[1,"col-md-4"],[1,"row"],[1,"col-md-5","text-right"],["routerLink","termsofservice","target","_blank",1,"text-white","footer_link",2,"cursor","pointer","font-size","9pt","display","inline-grid"],["routerLink","privacypolicy","target","_blank",1,"text-white","footer_link",2,"cursor","pointer","font-size","9pt","display","inline-grid"],[1,"lds-hourglass"],[1,"loading"],[1,"container"],["id","cookiesPopup",1,"cookiesContent"],["alt","cookies-img",3,"src"],[1,"accept",3,"click"],[1,"data","text-white","text-center","d-flex","justify-content-center","align-items-center","h-75"],[2,"color","rgb(0, 0, 0)","font-weight","bolder"],["type","email","placeholder","Enter e-mail",1,"form-control",2,"width","245px",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","placeholder","Enter password",1,"form-control",2,"width","245px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"btn","btn-success",3,"click"],["routerLink","signup",1,"btn","btn-warning"],["disabled","","type","email","placeholder","Enter e-mail",1,"form-control",2,"width","245px"],["disabled","","type","password","placeholder","Enter password",1,"form-control",2,"width","245px"],[1,"btn","btn-success",3,"routerLink"]],template:function(e,o){1&e&&(n.TgZ(0,"header")(1,"nav",0),n._UZ(2,"img",1),n.TgZ(3,"div",2)(4,"ul",3),n._UZ(5,"img",4),n.qZA()()(),n.TgZ(6,"ngx-spinner",5),n.YNc(7,b,1,0,"div",6),n.YNc(8,_,2,0,"p",7),n.YNc(9,M,7,2,"div",8),n.qZA(),n.YNc(10,v,15,6,"div",9),n.YNc(11,C,11,2,"div",9),n.qZA(),n.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"b",13),n._uU(16,"Alcala Cagayan E-Services"),n.qZA(),n._UZ(17,"br")(18,"br"),n.TgZ(19,"small",14),n._uU(20," For any inquiries, please call 0916-887-2897"),n._UZ(21,"br"),n._uU(22,"or email helpdesk@alcalacagayan.gov.ph "),n.qZA()(),n.TgZ(23,"div",15),n._UZ(24,"div",16),n.qZA(),n.TgZ(25,"div",17),n._UZ(26,"br"),n.TgZ(27,"a",18)(28,"b"),n._uU(29," TERMS OF SERVICE "),n.qZA()(),n._uU(30," \xa0 | \xa0 "),n.TgZ(31,"a",19)(32,"b"),n._uU(33," PRIVACY POLICY "),n.qZA()(),n._uU(34," \xa0\xa0 "),n.qZA()()()),2&e&&(n.xp6(7),n.Q6J("ngIf",o.showErrorAlert),n.xp6(1),n.Q6J("ngIf",o.showErrorAlert),n.xp6(1),n.Q6J("ngIf",!o.showErrorAlert),n.xp6(1),n.Q6J("ngIf",1==o.isnull),n.xp6(1),n.Q6J("ngIf",0==o.isnull))},dependencies:[d.O5,s.rH,s.yS,l.Fj,l.JJ,l.On,g.Ro],styles:['header[_ngcontent-%COMP%]{height:100vh;background-position:center;background-size:cover;background-color:transparent}.navbar[_ngcontent-%COMP%]{background-color:transparent;color:#fff!important}.nav-link[_ngcontent-%COMP%]{color:#fff!important;margin:0 10px;text-transform:uppercase}.navbar-brand[_ngcontent-%COMP%]{color:#fed136!important}.data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.35rem;font-style:italic;line-height:1.35rem;margin-bottom:1rem}.data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.45rem;font-weight:700;line-height:4.5rem;margin-bottom:1rem;font-family:Georgia,Times New Roman,Times,serif}p[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{text-align:justify}.lds-hourglass[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-hourglass[_ngcontent-%COMP%]:after{content:" ";display:block;border-radius:50%;width:0;height:0;margin:8px;box-sizing:border-box;border:32px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-hourglass 1.2s infinite}@keyframes lds-hourglass{0%{transform:rotate(0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}50%{transform:rotate(900deg);animation-timing-function:cubic-bezier(.215,.61,.355,1)}to{transform:rotate(1800deg)}}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;padding:0;margin:0;background-color:#f5f5f5;display:flex;justify-content:center;align-items:center;height:100vh}.cookiesContent[_ngcontent-%COMP%]{width:320px;display:flex;flex-direction:column;align-items:center;background-color:#fff;color:#000;text-align:center;border-radius:20px;padding:30px 30px 70px}.cookiesContent[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{width:30px;font-size:20px;color:#c0c5cb;align-self:flex-end;background-color:transparent;border:none;margin-bottom:10px}.cookiesContent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:82px;margin-bottom:15px}.cookiesContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:40px;font-size:18px}.cookiesContent[_ngcontent-%COMP%]   button.accept[_ngcontent-%COMP%]{background-color:#ed6755;border:none;border-radius:5px;width:200px;padding:14px;font-size:16px;color:#fff;box-shadow:0 6px 18px -5px #ed6755}']}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[s.Bz.forChild(Z),s.Bz]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.ez,w,l.UX,l.u5,g.ef]}),t})()}}]);